## 前端攻击

### xss 跨站脚本攻击
攻击者把恶意代码通过各种方式注入到用户页面，就可以获取页面信息，然后进行发请求等一些操作

### csrf 跨站请求攻击
简单来说就是攻击者引诱用户的浏览器去访问一个用户曾经认证过的网站并进行一些操作，如发短信，消息，购买等，由于以前认证过，所以浏览器会认为是真正用户在操作


### 解决方式
- token不是防xss而是防止csrf的，csrf攻击的原因就是浏览器会自动带上cookie,但是不会自动携带token
- xss：跨站脚本攻击，攻击者把恶意代码通过各种方式注入到用户页面，就可以获取页面信息，然后进行发请求等一些操作
- csrf（cross site request forgery）：（使用token防止）跨站请求攻击，简单来说就是攻击者引诱用户的浏览器去访问一个用户曾经认证过的网站并进行一些操作，如发短信，消息，购买等，由于以前认证过，所以浏览器会认为是真正用户在操作，利用了web中用户身份验证的一个漏洞：**简单的身份验证只能保证请求发自某个用户，却不能保证请求本身是用户自愿发出的**

### token比cookie更安全的原因
- cookie：警察看你的身份证，然后给你一个编号，后续的任何操作，都是通过编号来表明你是谁
- token：直接给警察看身份证，任何操作都是通过身份证直接操作
- cookie：登录之后，后端会生成一个sessionid放在cookie中返回给客户端，并且这个sessionid一直存在服务端，以后客户端每次请求都携带这个sessionid，服务端通过这个sessionid来判断身份，如果别人拿到了这个cookie就能拿到sessionid，完全可以取代你做其他请求。
- token：登录之后，后端会返回一个token，以后的每次请求，前端都需要手动加上这个token，即使被劫持，由于jwt+ip的方式，也会是一个无效的token;


原因：
- 浏览器在请求时，会自动带上cookie,所以crsf才管用
- token,不会自动携带，并且token是放在jwt里面发送给客户的，不能通过脚本拿到，加上jwt+ip的方式，可以防止被劫持，即使劫持，也是无效的jwt