## 减少http请求
一个完整的http请求，要经过dns查找，tcp握手，浏览器发出http请求，服务器接收请求，处理请求并返回响应，浏览器接收响应等过程

## 使用http2
使用http2有以下优点：
- 使用二进制传输数据，解析快速
- 多路复用，一个tcp连接，可以发送多个请求，同一个请求和响应使用唯一id来识别，多个请求和响应再tcp可以乱序发送，接收到后，根据流id来重组
- 首部字段压缩， 首部字段压缩是指客户端和服务端通过使用“首部表”来追踪和存储之前发送的键值对，对于相同的数据，不会每次请求和响应都发送 
- 优先级，可以设置紧急的请求一个较高优先级，服务器收到请求后就会优先处理
- 浏览控制，可以控制每个请求的流量，因为一个tcp的连接浏览宽带是固定的，当多个请求同时发送的时候，如果一个请求占流量多，那么另一个请求就少，流量控制可以对不同请求的流量进行精准控制
- 服务器推送

## 使用服务端渲染
- 客户端渲染，获取html文件，根据需要下载css, js，运行文件，生成dom，渲染
- 服务端渲染：服务端返回html，客户端只需要解析html
  - 优点：首屏渲染快，seo好
  - 缺点：配置麻烦，增加了服务器的计算压力

## 静态资源使用CDN
内容分发网络（CDN）是一组分补再多个不同地址位置的web服务器，我们都知道，当服务器离用户越远时，延迟越高，响应也就越慢。

### CDN原理
如果没有CDN，过程是这样：
- 浏览器需要将域名解析为ip，所以需要向本地的dns发出请求
- 本地dns依次向根服务器、顶级域名服务器、权限服务器发出请求，直到得到网站服务器的ip地址
- 本地dns再将ip发给浏览器，浏览器再去向网站服务器ip发送请求资源的请求

如果有CDN，过程是这样：
- 浏览器需要将域名解析为ip地址，所以需要向本地dns发出请求
- 本地dns依次向，根服务器，顶级域名服务器，权限服务器发出请求获取全局负载均衡系统（GSLB）的ip地址
- 本地dns在向GSLB发出请求，GSLB的功能主要是根据本地DNS的ip地址判断用户的位置，筛选出离用户最近的负载均衡服务器，然后将该服务器的ip返回本地dns
- 本地dns再将刚刚获取的ip发送给浏览器，浏览器向距离用户最近的负载均衡服务器发出请求
- 最近服务器根据浏览器的请求，选出最优的缓存服务器发送给浏览器，
- 浏览器根据刚刚选择的最后缓存服务器地址，再重新定向到缓存服务器
- 如果缓存服务器有资源，就返回，没有就向源服务器请求资源，再发给浏览器，并缓存再本地
  
## css再头部，js再底部
css和html是同时解析的，但是css会阻碍dom渲染
所有放在header的css和js都会堵塞渲染，把css放在头部的原因是不让用户看见丑陋的页面，而是有css修饰过的页面，js也可以不放在底部，只需要加上defer就可以了，异步下载，延迟执行

## 使用字体图标iconfont代替图片图标

## 善用缓存，不重复加载相同的资源

## 压缩文件

## 图片优化
- 图片延迟加载， 可视区域才加载图片
- 使用缩略图展示图片，当用户hover的时候，才现在图片，展示全图
- 尽可能使用css3效果代替图片，有些可以使用css效果就把渐变，阴影画出来
- 使用webp格式的图片，优势为，具有更优的图像数据压缩算法，能带来更嚣的图片体积，肉眼看不出差别，还有有损和无损的压缩模式
  
## 通过webpack按需加载代码，提取第三方代码

## 减少重绘重排
- 重排：当改变dom元素位置或大小时，会导致浏览器重新生成渲染树
  - 什么会导致重排
    - 添加或删除可见的dom元素
    - 元素位置的改变
    - 元素尺寸的改变
    - 内容改变
    - 浏览器窗口改变
  - 如果减少重排
    - 需要dom进行一系列操作时，可以将dom元素脱离文档流，修改完了以后再放回去，推荐使用隐藏元素或documentFragment文档碎片，一次操作
- 重绘：修改字体颜色叫重绘，重排一定重绘
  - 通过替换class来修改样式。

## 使用事件委托

## 良好的代码

## 减少if 使用switch 或者map

## 合理利用requestAnimationFrame来实现视觉优化
