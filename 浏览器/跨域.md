## CORS

对于**浏览器限制**这个词，要着重解释一下：不一定是浏览器限制了发起跨站请求，也可能是跨站请求可以正常发起，但是返回结果被浏览器拦截了

非简单请求
- 对那些可能对**服务器数据产生副作用**的 HTTP 请求方法，就是非简单请求
- 通过脚本发起的跨域请求，可以对响应内容做处理，这是用户不可感知的，浏览器认为这是不安全的



#### 简单请求
- 简单请求的 HTTP 方法只能是 GET、HEAD 或 POST
- 简单请求的 HTTP 头只能是 Accept/Accept-Language/Conent-Language/Content-Type 等
- 简单请求的 Content-Type 头只能是 text/plain、multipart/form-data 或 application/x-www-form-urlencoded

这些限制看上来还挺复杂的，其实也就是普通的HTML Form在不依赖脚本的情况下就可以发出的请求，比如表单method如果指定post，可以用content-type属性指定用什么方式对表单内容进行编码，合理的就是这三种

非简单的请求也就是普通html form无法实现的请求，比如put方法，需要其他的内容编码方式

对于服务器来说，第一，许多服务器压根就没打算给跨源用，当然如果不给CORS响应头，浏览器也不会使用响应结果，但是请求本身已经造成了后果，所以最好还是默认禁止跨源请求

第二，要回答某个请求是否接收跨源，可能设计到额外的计算逻辑，可以一律放行，可以决定哪个资源哪个操作来自哪个Origin,对浏览器来说，就是哪个资源被允许跨源，但是对服务器来说计算成本可大可小，所以我们希望最好不用每次请求都让服务器劳神来计算。一句话说就是为了**减少服务器的额外的计算逻辑，通过预请求的方式来告知浏览器是否允许跨域**


简单请求不发预请求的原因并不是为了向下兼容。从理论上来说，浏览器可以区别对待表单请求和非表单请求，对传统的跨源表单提交不发预请求，而对非表单的跨域请求发预请求



